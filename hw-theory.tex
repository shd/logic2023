\documentclass[10pt,a4paper,oneside]{article}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{stmaryrd}
\usepackage{cmll}
\usepackage{mathrsfs}
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
\usepackage{proof}
\usepackage{tikz}
\usepackage{multicol}
\usepackage{mathabx}

\makeatletter
\newcommand{\dotminus}{\mathbin{\text{\@dotminus}}}

\newcommand{\@dotminus}{%
  \ooalign{\hidewidth\raise1ex\hbox{.}\hidewidth\cr$\m@th-$\cr}%
}
\makeatother

\usetikzlibrary{arrows,backgrounds,patterns,matrix,shapes,fit,calc,shadows,plotmarks}

\newtheorem{definition}{Определение}
\begin{document}

\begin{center}{\Large\textsc{\textbf{Теоретические (``малые'') домашние задания}}}\\
             \it Математическая логика, ИТМО, М3232-М3239, весна 2023 года\end{center}

\section*{Задание №1. Знакомство с исчислением высказываний.}


При решении заданий вам может потребоваться теорема о дедукции (будет доказана на второй лекции): 
$\Gamma, \alpha \vdash \beta$ 
тогда и только тогда, когда $\Gamma \vdash \alpha\rightarrow\beta$. Например, если было показано 
существование вывода $A \vdash A$, то тогда теорема гарантирует и существование вывода $\vdash A \rightarrow A$.

\begin{enumerate}
\item Докажите:
\begin{enumerate}
\item $\vdash (A \rightarrow A \rightarrow B) \rightarrow (A \rightarrow B)$
\item $\vdash \neg (A \with \neg A)$
\item $\vdash A \with B \rightarrow B \with A$
\item $\vdash A \vee B \rightarrow B \vee A$
\item $A \with \neg A \vdash B$
\end{enumerate}

\item Докажите:
\begin{enumerate}
\item $\vdash A \rightarrow \neg \neg A$
\item $\neg A, B \vdash \neg(A\& B)$
\item $\neg A,\neg B \vdash \neg( A\vee B)$
\item $ A,\neg B \vdash \neg( A\rightarrow B)$
\item $\neg A, B \vdash  A\rightarrow B$
\end{enumerate}

\item Докажите:
\begin{enumerate}
\item $\vdash (A \rightarrow B) \rightarrow (B \rightarrow C) \rightarrow (C \rightarrow A)$ 
\item $\vdash (A \rightarrow B) \rightarrow (\neg B \rightarrow \neg A)$ \emph{(правило контрапозиции)}
\item $\vdash A \with B \rightarrow \neg (\neg A \vee \neg B)$
\item $\vdash \neg (\neg A \vee \neg B) \rightarrow (A \with B)$
\item $\vdash (A \rightarrow B) \rightarrow (\neg A \vee B)$
\item $\vdash A \with B \rightarrow A \vee B$
\item $\vdash ((A \rightarrow B) \rightarrow A)\rightarrow A$ \emph{(закон Пирса)}
\end{enumerate}

\item Следует ли какая-нибудь расстановка скобок из другой: $(A \rightarrow B) \rightarrow C$ и 
$A \rightarrow (B \rightarrow C)$? Предложите вывод в исчислении высказываний или докажите, что его не
существует (например, воспользовавшись теоремой о корректности, предложив соответствующую оценку).

\item Предложите схемы аксиом, позволяющие добавить следующие новые связки к исчислению.
\begin{enumerate}
\item связка <<и-не>> (<<штрих шеффера>>, ``|''): $A\ |\ B$ истинно, когда один из аргументов ложен. Новые схемы аксиом должны 
давать возможность исключить конъюнкцию и отрицание из исчисления. 

Поясним, что мы понимаем под словами <<исключить связку>>.
Как вы знаете, конъюнкция и отрицание выражаются через <<и-не>> ($\neg \alpha := \alpha\ |\ \alpha$ и т.п.). 
При такой замене все схемы аксиом для конъюнкции и отрицания должны стать теоремами.
При этом исчисление должно остаться корректным относительно классической модели исчисления высказываний.

\item связка <<или-не>> (<<стрелка пирса>>, ``$\downarrow$''): $A \downarrow B$ истинно, когда оба аргумента ложны.
Новые схемы аксиом должны давать возможность исключить дизъюнкцию и отрицание из исчисления.
\item Нуль-местная связка <<ложь>> (``$\bot$''). Мы ожидаем вот такую замену: $\neg A := A \rightarrow \bot$.
Аналогично, аксиомы для отрицания в новом исчислении должны превратиться в теоремы. 
\end{enumerate}

\item Достаточно ли лжи и <<исключённого или>> ($A \oplus B$ истинно, когда $A \ne B$) для выражения
всех остальных связок? 

\item Даны высказывания $\alpha$ и $\beta$, причём $\vdash \alpha\rightarrow\beta$ и $\not\vdash\beta\rightarrow\alpha$. 
Укажите способ построения высказывания $\gamma$, такого, что
$\vdash\alpha\rightarrow\gamma$ и $\vdash\gamma\rightarrow\beta$, причём $\not\vdash\gamma\rightarrow\alpha$ и
$\not\vdash\beta\rightarrow\gamma$.

\item Покажите, что если $\alpha \vdash \beta$ и $\neg\alpha\vdash\beta$, то $\vdash\beta$.
\end{enumerate}

\section*{Задание №2. Теоремы о исчислении высказываний. Интуиционистская логика.}

\begin{enumerate}
\item Покажите, что в классическом исчислении высказываний $\Gamma \models \alpha$ влечёт $\Gamma \vdash \alpha$.

\item Покажите, что следующие высказывания не доказуемы в интуиционистской логике:
\begin{enumerate}
\item $\neg\neg A \rightarrow A$
\item $((A \rightarrow B) \rightarrow A) \rightarrow A$
\item $(A \rightarrow B) \vee (B \rightarrow A)$
\item $(A \rightarrow B \vee \neg B) \vee (\neg A \rightarrow B \vee \neg B)$
\item $\bigvee_{i=0,n-1} A_i \rightarrow A_{(i+1) \% n}$
\end{enumerate}

\item Выполнены ли формулы де Моргана в интуиционистской логике? Докажите или опровергните.
\begin{enumerate}
\item $\alpha\vee\beta \vdash \neg(\neg\alpha\with\neg\beta)$ и $\neg(\neg\alpha\with\neg\beta) \vdash \alpha\vee\beta$
\item $\neg\alpha\with\neg\beta \vdash \neg(\alpha\vee\beta)$ и $\neg(\alpha\vee\beta) \vdash \neg\alpha\with\neg\beta$
\item $\alpha\rightarrow\beta \vdash \neg\alpha\vee\beta$ и $\neg\alpha\vee\beta \vdash \alpha\rightarrow\beta$
\end{enumerate}

\item Покажите, что никакие связки не выражаются друг через друга: то есть, нет такой формулы $\varphi(A,B)$ из языка 
интуиционистской логики, не использующей связку $\star$, что $\vdash A \star B \rightarrow \varphi(A,B)$ и $\vdash\varphi(A,B) \rightarrow A \star B$.
Покажите это для каждой связки в отдельности:
\begin{enumerate}
\item $\star$ --- конъюнкция;
\item $\star$ --- дизъюнкция;
\item $\star$ --- импликация;
\item $\star$ --- отрицание.
\end{enumerate}

\item Существует несколько схожих вариантов аксиомы исключённого третьего. Не пользуясь 10 схемой аксиом, покажите
следующее:
\begin{enumerate}
\item $\alpha\vee\neg\alpha, \alpha\rightarrow\neg\alpha\rightarrow\beta \vdash ((\alpha\rightarrow\beta)\rightarrow\alpha)\rightarrow\alpha$
\item $((\alpha\rightarrow\beta)\rightarrow\alpha)\rightarrow\alpha, \alpha\rightarrow\neg\alpha\rightarrow\beta \vdash \neg\neg\alpha\rightarrow\alpha$
\end{enumerate}

\item Рассмотрим несколько моделей троичной логики. Логики похожи истинностными значениями ($V = \{ -1, 0, 1 \}$, истиной считаем 1)
и определением большинства операций:
$\llbracket A \with B\rrbracket = \min(\llbracket A \rrbracket, \llbracket B \rrbracket)$,
$\llbracket A \vee B\rrbracket = \max(\llbracket A \rrbracket, \llbracket B \rrbracket)$,
$\llbracket \neg A\rrbracket = -\llbracket A \rrbracket$. Отличаются логики определением импликации (ниже), и в одном случае -- определением отрицания.
Про каждую из них ответьте на четыре вопроса:
являются ли они корректными и/или полными моделями классического и/или интуиционистского исчисления высказываний.

\begin{enumerate}
\item Сильная логика неопределённости Клини: $\llbracket A \rightarrow B \rrbracket = \llbracket \neg A \vee B \rrbracket$.
\item Троичная логика Лукасевича: $\llbracket A \rightarrow B \rrbracket = \min(1,1 -\llbracket A \rrbracket + \llbracket B \rrbracket)$
\item Логика Гёделя $G_3$: $$\llbracket \neg A \rrbracket = \left\{\begin{array}{ll}1,& \llbracket A \rrbracket = -1\\-1,&\text{иначе} \end{array}\right.
  \quad\quad \llbracket A \rightarrow B \rrbracket = \left\{\begin{array}{ll}1,& \llbracket A \rrbracket \le \llbracket B \rrbracket \\\llbracket B \rrbracket,&\text{иначе}\end{array}\right.$$
\end{enumerate}

\item Изоморфизм Карри-Ховарда --- соответствие между интуиционистским исчислением высказываний, с одной стороны, и 
языками программирования, с другой. А именно, можно заметить, что программа соответствует доказательству, тип программы --- 
логическому высказыванию. Связки (как составные части логического высказывания) соответствуют определённым типовым конструкциям:
функция --- импликации, конъюнкция --- упорядоченной паре, дизъюнкция --- алгебраическому типу (\verb!std::variant! и т.п.).

Например, функция \verb!A id(A x) { return x; }! доказывает $A \rightarrow A$, а функция 
\begin{verbatim}
std::pair<A,B> swap(std::pair<B,A> x) { return std::pair(x.second, x.first); }
\end{verbatim}
доказывает $B\with A \rightarrow A \with B$.

Ложь выражается менее очевидно. Давайте за ложь мы возьмём выражение, имеющее тип несвязанного типового параметра
(идея в том, чтобы данное выражение легко приводилось бы к любому типу: из лжи следует всё, что угодно). 
Данный код доказывает $\neg Z$, то есть $Z \rightarrow \bot$: 
\begin{verbatim}
template <class A>   
A negate(Z x) { throw ("Value of type Z is impossible"); }
\end{verbatim}

Конечно, в смысле изоморфизма Карри-Ховарда большинство языков программирования противоречивы.

В завершение теоретической части заметим, что в свете BHK-интерпретации в изоморофизме Карри-Ховарда нет
ничего странного: если под конструкцией мы понимаем тип, то любое значение типа --- это метод построения конструкции
(типы, значения которых можно построить, мы будем называть \emph{обитаемыми}), 
а функция --- это способ перестроения одного значения в другое.

Докажите следующие утверждения, написав соответствующую программу:
\begin{enumerate}
\item $A \rightarrow B \rightarrow A$
\item $A \with B \rightarrow A \vee B$
\item $(A \with (B \vee C)) \rightarrow ((A \with B) \vee (A \with C))$
\item $(A \rightarrow C) \with (B \rightarrow C) \with A \vee B \rightarrow C$
\item $(B \vee C \rightarrow A) \rightarrow (B \rightarrow A) \with (C \rightarrow A)$
\item $(A \rightarrow B) \rightarrow (\neg B \rightarrow \neg A)$
\item $((A \rightarrow B) \rightarrow C) \rightarrow (A \rightarrow (B \rightarrow C))$
\item $(A \rightarrow B) \with (A \rightarrow \neg B) \rightarrow \neg A$
\item Выразимые в интуиционистском исчислении высказываний аналоги правил де Моргана для импликации.
\item $\bot$
\end{enumerate}
\end{enumerate}

\section*{Задание №3. Топология, решётки.}

\begin{enumerate}
\item Напомним определения: \emph{замкнутое} множество --- такое, дополнение которого открыто.
\emph{Внутренностью} множества $A^\circ$ назовём наибольшее открытое множество, содержащееся в $A$.
\emph{Замыканием} множества $\overline{A}$ назовём наименьшее замкнутое множество, содержащее $A$.
Назовём \emph{окрестностью} точки $x$ такое открытое множество $V$, что $x \in V$.
Будем говорить, что точка $x \in A$ \emph{внутренняя}, если существует окрестность $V$, что $V \subseteq A$.
Точка $x\in A$ --- \emph{граничная}, если любая её окрестность $V$ пересекается как с $A$, так и с его дополнением.
\begin{enumerate}
\item Покажите, что $A$ открыто тогда и только тогда, когда все точки $A$ --- внутренние.
Также покажите, что $A^\circ = \{ x|x \in A \with x\text{ --- внутренняя точка}\}$.
\item Покажите, что $A$ замкнуто тогда и только когда, когда содержит все свои граничные точки.
Также покажите, что $\overline{A} = \{ x|x \in A \with x\text{ --- внутренняя или граничная точка}\}$.
Верно ли, что $\overline{A} = X \setminus ((X\setminus A)^\circ)$?
\item Введём топологию на деревьях способом, рассмотренным на лекции. Рассмотрим некоторое множество
вершин $V$. Опишите множества $V^\circ$ и $\overline{V}$. Какие вершины будут являться граничными для $V$?
\item Пусть $A \subseteq B$. Как связаны $A^\circ$ и $B^\circ$, а также $\overline{A}$ и $\overline{B}$?
\item Верно ли $(A \cap B)^\circ = A^\circ \cap B^\circ$ и $(A \cup B)^\circ = A^\circ \cup B^\circ$?
\item Покажите, что $\overline{\left(\overline{A^\circ}\right)^\circ} = \overline{A^\circ}$.
\item \emph{Задача Куратовского.} Будем применять операции взятия внутренности и замыкания к некоторому множеству
всевозможными способами. Сколько различных множеств может всего получиться?
\end{enumerate}


\item Напомним, что эвклидовой топологией называется топология на $\mathbb{R}$ с базой $\mathcal{B} = \{ (a,b)\ |\ a,b \in \mathbb{R} \}$.
\begin{enumerate}
\item Связны ли $\mathbb{Q}$ и $\mathbb{R}\setminus\mathbb{Q}$ как топологические подпространства $\mathbb{R}$?
\item Связен ли интервал $(0,1)$?
%\item Если для некоторой функции каждый прообраз открытого множества открыт, то такая функция называется \emph{непрерывной}.
%Покажите, что в эвклидовой топологии функция $f : \mathbb{R} \rightarrow \mathbb{R}$ непрерывна тогда и только тогда,
%когда $\forall x_0 \in \mathbb{R}.\forall \varepsilon > 0. \exists \delta > 0. \forall x \in \mathbb{R}.|x - x_0| < \delta \rightarrow |f(x) - f(x_0)| < \varepsilon$.
\end{enumerate}

\item Примеры топологий.
Для каждого из примеров ниже проверьте, задано ли в нём топологическое пространство, и ответьте на следующие вопросы, если это так:
каковы окрестности точек в данной топологии;
каковы замкнутые множества в данной топологии;
связно ли данное пространство.

\begin{enumerate}
\item Топология Зарисского на $\mathbb{R}$: 
$\Omega = \{\varnothing\} \cup \{ X \subseteq \mathbb{R}\ |\ \mathbb{R} \setminus X\ \text{конечно} \}$,
то есть пустое множество и все множества с конечным дополнением.
\item Топология стрелки на $\mathbb{R}$:
$\Omega = \{\varnothing, \mathbb{R}\} \cup \{ (x,+\infty) | x \in \mathbb{R} \}$, то есть пустое, 
всё пространство и все открытые лучи.
\item Множество всех бесконечных подмножеств $\mathbb{R}$:
$\Omega = \{\varnothing\} \cup \{ X \subseteq \mathbb{R}\ |\ X\ \text{бесконечно} \}$
\item Множество всевозможных объединений арифметических прогрессий:
$A(a) = \{ a\cdot x\ |\ x \in \mathbb{Z}\}$;
$X \in \Omega$, если $X=\varnothing$ или $X = \bigcup_i A(a_i)$ (все $a_i > 0$).
\end{enumerate}

\item Непрерывной функцией называется такая, для которой прообраз открытого множества всегда открыт.
Путём на топологическом пространстве $X$ назовём непрерывное отображение вещественного интервала $[0,1]$ в $X$.
Опишите пути (то есть, опишите, какие функции могли бы являться путями):
\begin{enumerate}
\item на $\mathbb{N}$ (с дискретной топологией);
\item в топологии Зарисского;
\item на дереве (с топологией с лекции);
\end{enumerate}

\item Связным множеством в топологическом пространстве назовём такое, которое связно как подпространство.
Линейно связным множеством назовём такое, в котором две произвольные точки могут быть соединены путём. 
\begin{enumerate}
\item покажите, что линейно связное множество всегда связно;
\item покажите, что связное не обязательно линейно связное.
\end{enumerate}

\item Всегда ли непрерывным образом связного пространства является другое связное (под)пространство? Докажите или опровергните.

\item Рассмотрим подмножество частично упорядоченного множества, и рассмотрим следующие свойства:
(а) наличие наибольшего элемента; (б) наличие супремума;
(в) наличие единственного максимального элемента. Всего можно рассмотреть шесть утверждений ((a) влечёт (б), 
(а) влечёт (в), и т.п.) --- про каждое определите, выполнено ли оно в общем случае,
и приведите либо доказательство, либо контрпример. Задача состоит из одного пункта, для получения баллов 
все шесть утверждений должны быть разобраны.


\item Покажите следующие утверждения для импликативных решёток:
\begin{enumerate}
\item монотонность: пусть $a \preceq b$ и $c \preceq d$, тогда $a + c \preceq b + d$ и $a \cdot c \preceq b \cdot d$;
\item \emph{Законы поглощения:} $a \cdot (a + b) = a$; $a + (a \cdot b) = a$;
\item $a \preceq b$ выполнено тогда и только тогда, когда $a \rightarrow b = 1$;
\item из $a \preceq b$ следует $b\rightarrow c \preceq a\rightarrow c$ и $c\rightarrow a \preceq c \rightarrow b$;
\item из $a \preceq b \rightarrow c$ следует $a \cdot b \preceq c$;
\item $b \preceq a \rightarrow b$ и $a \rightarrow (b \rightarrow a) = 1$;
\item $a \rightarrow b \preceq ((a \rightarrow (b \rightarrow c)) \rightarrow (a \rightarrow c))$;
\item $a \preceq b \rightarrow a \cdot b$ и $a \rightarrow (b \rightarrow (a \cdot b)) = 1$
\item $a \rightarrow c \preceq (b \rightarrow c) \rightarrow (a + b \rightarrow c)$
\item импликативная решётка дистрибутивна: $(a + b) \cdot c = (a \cdot c) + (b \cdot c)$
\end{enumerate}

\item Докажите, основываясь на формулах предыдущих заданий, что интуиционистское исчисление высказываний
корректно, если в качестве модели выбрать алгебру Гейтинга.

\item Покажите, что на конечном множестве дистрибутивная решётка всегда импликативна.
\item Постройте пример дистрибутивной, но не импликативной решётки.
\item Покажите, что в дистрибутивной решётке всегда $a + (b \cdot c) = (a + b) \cdot (a + c)$.

\item Покажите, что $(\preceq)$ --- отношение предпорядка, а $(\approx)$ --- отношение эквивалентности.
\item Покажите, что $[\alpha]_\mathcal{L} + [\beta]_\mathcal{L} = [\alpha\vee\beta]_\mathcal{L}$.
Зависит ли результат от выбора представителей классов эквивалентности $[\alpha]$ и $[\beta]$? Ответ также докажите.
\item Покажите, что $[\alpha\rightarrow\beta]_\mathcal{L}$ --- псевдодополнение $[\alpha]_\mathcal{L}$ до $[\beta]_\mathcal{L}$.

%\item Моделью Крипке назовём упорядоченную тройку $\langle \mathcal{W}, \preceq, (\Vdash)\rangle$ --- множество миров,
%отношение нестрогого частичного порядка на мирах (давайте считать, что это множество представляет из себя дерево), отношение вынужденности
%(сопосотавляющее каждой переменной множество миров, где эта переменная вынуждена).
%При этом должно быть выполнено условие: если $W_i \preceq W_j$ и $W_i \Vdash X$, то $W_j \Vdash X$.
%
%Тогда доопределим отношение вынужденности на всех формулах:
%\begin{itemize}
%\item $W \Vdash \alpha\with\beta$, если $W \Vdash \alpha$ и $W \Vdash \beta$;
%\item $W \Vdash \alpha\vee\beta$, если $W \Vdash \alpha$ или $W \Vdash \beta$;
%\item $W \Vdash \alpha\rightarrow\beta$, если всегда при $W \preceq W_1$ и $W_1 \Vdash \alpha$ выполнено $W_1 \Vdash \beta$
%\item $W \Vdash \neg\alpha$, если всегда при $W \preceq W_1$ выполнено $W_1 \Vdash \alpha$.
%\end{itemize}
%
%Будем говорить, что $\alpha$ вынуждена в модели Крипке, если она вынуждена во всех мирах этой модели.
%Будем говорить, что $\models\alpha$, если она вынуждена во всех моделях Крипке.
%
%Например, следующая модель доказывает, что $\not\models A \vee \neg A$. 
%\begin{center}\tikz{
%\node at (0,0)   (A) {$W_1$};
%\node at (2,1) (B) {$W_2\ (\Vdash A)$};
%\node at (2,-1) (C) {$W_3$};
%\draw[->] (A) to (B); 
%\draw[->] (A) to (C); 
%}\end{center}
%
%Тогда, $W_3 \Vdash \neg A$, но $W_1 \not\Vdash A$ (по определению) и $W_1 \not\Vdash \neg A$ (так как
%$W_1 \preceq W_2$ и $W_2 \Vdash \neg A$). Значит, $W_1 \not\Vdash A \vee \neg A$.
%
%Опровергните формулы, построив соответствующие модели Крипке:
%
%\begin{enumerate}
%\item $\neg\neg A \rightarrow A$
%\item $((A \rightarrow B) \rightarrow A) \rightarrow A$
%\item $(A \rightarrow B) \vee (B \rightarrow A)$
%\item $(A \rightarrow B \vee \neg B) \vee (\neg A \rightarrow B \vee \neg B)$
%\item $\bigvee_{i=0,n-1} A_i \rightarrow A_{(i+1) \% n}$
%\end{enumerate}
%
%\item Покажите, что любая модель Крипке обладает свойством: для любых $W_i, W_j, \alpha$, 
%если $W_i \preceq W_j$ и $W_i \Vdash \alpha$, то $W_j \Vdash \alpha$.

%\item Топологическим пространством $\langle X, \Omega\rangle$ называется упорядоченная пара
%из множества $X$ и множества подмножеств $\Omega \subseteq \mathcal{P}(X)$ (элементы множества
%$\Omega$ называются \emph{открытыми} множествами), причём выполнены
%три свойства:
%\begin{itemize}
%\item $\varnothing, X \in \Omega$
%\item Объединение произвольного семейства открытых множеств открыто: если $A_i \in \Omega$, то $\bigcup A_i \in \Omega$
%\item Пересечение конечного семейства открытых множеств открыто: если $A_1,\dots,A_n \in \Omega$, то $A_1 \cap A_2 \cap \dots \cap A_n \in \Omega$
%\end{itemize}

%\begin{enumerate}
%\item Постройте топологическое пространство, 
%\end{enumerate}

%\item Рассмотрим дерево миров $\mathcal{W}$ с частичным отношением порядка $(\preceq)$. Назовём множество миров $S \subseteq \mathcal{W}$
%открытым, если для всех $W_1 \in S$ выполнено, что если $W_1 \preceq W_p$, то $W_p \in S$. Иными словами, в множестве каждый мир содержится
%вместе со своими потомками.
%
%Докажите, что открытые множества миров образуют топологию на $\mathcal{W}$.
%\end{enumerate}

\end{enumerate}

\end{document}
